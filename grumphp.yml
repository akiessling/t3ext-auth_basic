parameters:
  git_dir: .
  bin_dir: .Build/bin

  ascii: ~
  process_timeout: "%convention.process_timeout%"
  convention.process_timeout: 60
  convention.xmllint_ignore_pattern: []
  convention.yamllint_ignore_pattern: []
  convention.phpcslint_ignore_pattern:
    - ext_emconf.php
    - ext_localconf.php
    - ext_tables.php
  tasks:
    phpmnd: ~
    phpstan:
      ignore_patterns:
        - "ext_emconf.php"
        - "tmp-phpqa/*"
    phpcpd:
      exclude: [".Build", "tmp-phpqa", "Configuration/TCA"]
    phpmd:
      ruleset:
        - phpmd.xml
    git_blacklist:
      keywords:
        - "var_dump("
        - "console.log("
        - "print_r("
        - "exit;"
        - "exit("
        - "die("
        - "die;"
        - "fileadmin"
        - "DebuggerUtility"
      whitelist_patterns:
        - /^Classes\/(.*)/
      triggered_by: [php, js, html]
      metadata:
        blocking: false #show only as warnings
    jsonlint:
      ignore_patterns:
        - "Resources/Public/JavaScript/Libraries/"
      detect_key_conflicts: true
    phpcs:
      ignore_patterns: "%convention.phpcslint_ignore_pattern%"
      tab_width: 4
      standard: phpcs.xml
    shell:
      scripts:
        - ["-c", "composer run check-style"]
    phplint: ~
    xmllint:
      ignore_patterns: "%convention.xmllint_ignore_pattern%"
    yamllint:
      ignore_patterns: "%convention.yamllint_ignore_pattern%"
    securitychecker: ~
    php_cs_slevomat:
      ignore_patterns: "%convention.phpcslint_ignore_pattern%"
      tab_width: 4
      standard:
      #- phpcs.xml
      - phpcs-slevomat.xml
      #- ./.Build/vendor/slevomat/coding-standard/SlevomatCodingStandard

  testsuites:
    phpcs:
      tasks:
        - shell
